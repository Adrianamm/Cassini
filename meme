
const Discord = require('discord.js');
const Client = new Discord.Client();
const settings = require('./settings.json');
const fs = require("fs");


//const schedule = require('node-schedule');
Client.on("ready", () => {
   Client.user.setGame("*I am broken")
    Client.user.setGame("Exploring Space")
     console.log("I am ready!");
   });

// Guild Events
Client.on('guildDelete', guild => {
    console.log(`I have left ${guild.name} at ${new Date()}`);
  });
  
  Client.on('guildCreate', guild => {
    guild.channel.send(`I have joined ${guild.name}`);
  });
  
  Client.on('guildMemberAdd', member => {
    let guild = member.guild;
    guild.channel.send(`Please welcome ${member.user.username} to the server!`);
  });

  
  Client.on('guildMemberRemove', member => {
    let guild = member.guild;
    guild.channel.send(`Please say goodbye to ${member.user.username} we will miss you!`);
  });

  Client.on('messageDelete', msg => {
    msg.guild.defaultChannel.sendMessage(`A message with the contents ${msg.cleanContent} was deleted from ${msg.channel}`);
  });
  
  Client.on('messageDeleteBulk', messages => {
    console.log(`${messages.size} was deleted`);
  });

  
//ping the  bot 
Client.on("message", message => {
  //if(!message.content.startsWith(prefix)) return; 
  let args = message.content.split(' ').slice(1);
  var argresult = args.join(' ');
  if(message.author.bot) return; 

  if(message.content.startsWith(prefix + "ping")) {
    message.channel.send('pong beep boop');
  //message.channel.send('Pong!' \ '${Date.now() - message.createdTimestamp' ms\'');


  if (message.content.startsWith("owo" || "Owo" || "owO" || "OwO" || "OWO" || "0W0" || "0w0")) {
    message.channel.send("What's this?");
  }
}  else

if(message.content.startsWith(prefix + "setgame")){
  let modRole = message.guild.roles.find("name", "Owner")
  if(message.member.roles.has(modRole.id)){
    Client.user.setGame(argresult);
  }else {
     message.channel.send("You can't do this");
  }
}

if (message.content.startsWith("owo" || "Owo" || "owO" || "OwO" || "OWO" || "0W0" || "0w0")) {
  message.channel.send("What's this?");
}



if (message.content.startsWith(prefix + "say")){
  message.channel.send(args.join(" "));
 message.delete(); 
}


if(message.author.bot) return; 
if(!message.content.startsWith(prefix)) return;
  
  let command = message.content.split(" ")[0];
  command = command.slice(prefix.length);
  

  if (message.content.startsWith(prefix + 'giverole')) {
    guild.member(message.mentions.users.first()).addRole('409835500535414794').catch(error => console.log(error));
    } 
  //if(message.content.startsWith(prefix + "github")){
   // message.channel.send("Check out my github here: https://github.com/Adrianamm/Cassini")
  //}

           

    }//not delete 
  );//not deleting

 Client.login(settings.token);

  
























































































































  Client.login(settings.token);
//don't delete that again